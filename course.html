<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital SAT Prep - Learning Center</title>
    <style>
        :root { --blue: #0071ce; --dark: #1e1e1e; --bg: #f9fafb; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 0; }
        .navbar { background: var(--blue); color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .main-container { max-width: 1100px; margin: 40px auto; padding: 0 20px; display: grid; grid-template-columns: 2fr 1fr; gap: 30px; }
        
        .video-player { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        
        .lessons-list { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); height: fit-content; }
        .lesson-item { padding: 15px; border-bottom: 1px solid #eee; cursor: pointer; transition: 0.3s; display: flex; align-items: center; }
        .lesson-item:hover { background: #f0f7ff; }
        .lesson-item.active { border-left: 4px solid var(--blue); background: #f0f7ff; font-weight: bold; }
        .status-dot { width: 12px; height: 12px; border-radius: 50%; background: #ddd; margin-right: 15px; }
        .status-dot.completed { background: #10b981; }

        .action-area { margin-top: 30px; padding: 20px; background: #eff6ff; border: 1px dashed var(--blue); border-radius: 12px; text-align: center; }
        .btn-start { background: var(--blue); color: white; padding: 15px 40px; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; opacity: 0.5; transition: 0.3s; }
        .btn-start.ready { opacity: 1; transform: scale(1.05); }
    </style>
</head>
<body>

<div class="navbar">
    <h2>Digital SAT Math Portal</h2>
    <div id="progressText">Completed: 0 / 5</div>
</div>

<div class="main-container">
    <div class="video-player">
        <h2 id="currentTitle">Lesson 1: Introduction to SAT Math</h2>
        <div class="video-container">
            <iframe id="mainVideo" src="https://www.youtube.com/embed/فيديو_1?rel=0" allowfullscreen></iframe>
        </div>
        <div style="margin-top: 20px;">
            <button class="btn-start" style="opacity: 1; background: #10b981;" onclick="markComplete()">Mark as Completed ✅</button>
        </div>
    </div>

    <div class="lessons-list">
        <h3>Your Learning Path</h3>
        <div class="lesson-item active" onclick="changeVideo('فيديو_1', 'Lesson 1: Intro', 0)">
            <div class="status-dot" id="dot-0"></div> 1. Heart of Algebra
        </div>
        <div class="lesson-item" onclick="changeVideo('فيديو_2', 'Lesson 2: Problem Solving', 1)">
            <div class="status-dot" id="dot-1"></div> 2. Problem Solving & Data
        </div>
        <div class="lesson-item" onclick="changeVideo('فيديو_3', 'Lesson 3: Passport to Advanced Math', 2)">
            <div class="status-dot" id="dot-2"></div> 3. Advanced Math
        </div>
        <div class="lesson-item" onclick="changeVideo('فيديو_4', 'Lesson 4: Geometry', 3)">
            <div class="status-dot" id="dot-3"></div> 4. Geometry & Trig
        </div>
        <div class="lesson-item" onclick="changeVideo('فيديو_5', 'Lesson 5: Strategy & Final Tips', 4)">
            <div class="status-dot" id="dot-4"></div> 5. Exam Strategies
        </div>

        <div class="action-area">
            <p>Finish all lessons to unlock the practice exam</p>
            <button id="examBtn" class="btn-start" onclick="startExam()" disabled>Go to Exam</button>
        </div>
    </div>
</div>

<script>
    let completedLessons = new Set();
    const totalLessons = 5;

    function changeVideo(id, title, index) {
        document.getElementById('mainVideo').src = `https://www.youtube.com/embed/${id}?rel=0`;
        document.getElementById('currentTitle').innerText = title;
        // تحديث التصميم النشط
        document.querySelectorAll('.lesson-item').forEach((item, i) => {
            item.classList.toggle('active', i === index);
        });
    }

    function markComplete() {
        // نحدد الدرس النشط حالياً (تبسيطاً سنعتمد على الترتيب)
        let activeIndex = Array.from(document.querySelectorAll('.lesson-item')).findIndex(i => i.classList.contains('active'));
        completedLessons.add(activeIndex);
        document.getElementById(`dot-${activeIndex}`).classList.add('completed');
        
        let count = completedLessons.size;
        document.getElementById('progressText').innerText = `Completed: ${count} / ${totalLessons}`;

        if (count >= totalLessons) {
            let btn = document.getElementById('examBtn');
            btn.disabled = false;
            btn.classList.add('ready');
            btn.innerText = "Unlock Exam Now!";
        }
    }

    function startExam() {
        window.location.href = "index.html"; // الربط بصفحة الامتحان
    }
</script>

</body>
</html>
